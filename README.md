# CyberStrikeAI

ğŸš€ **AIè‡ªä¸»æ¸—é€æµ‹è¯•å¹³å°** - åŸºäºGolangæ„å»ºï¼Œå†…ç½®ä¸Šç™¾ä¸ªå®‰å…¨å·¥å…·ï¼Œæ”¯æŒçµæ´»æ‰©å±•è‡ªå®šä¹‰å·¥å…·ï¼Œé€šè¿‡MCPåè®®å®ç°AIæ™ºèƒ½å†³ç­–ä¸è‡ªåŠ¨åŒ–æ‰§è¡Œï¼Œè®©å®‰å…¨æµ‹è¯•åƒå¯¹è¯ä¸€æ ·ç®€å•ã€‚
  ![è¯¦æƒ…é¢„è§ˆ](./img/æ•ˆæœ1.png)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- ğŸ¤– **AIæ™ºèƒ½ä»£ç†** - é›†æˆOpenAIå…¼å®¹APIï¼ˆæ”¯æŒGPTã€Claudeã€DeepSeekç­‰ï¼‰ï¼ŒAIè‡ªä¸»å†³ç­–å’Œæ‰§è¡Œå®‰å…¨æµ‹è¯•
- ğŸ§  **æ™ºèƒ½å†³ç­–å¼•æ“** - AIåˆ†æç›®æ ‡å¹¶è‡ªåŠ¨é€‰æ‹©æœ€ä½³æµ‹è¯•ç­–ç•¥å’Œå·¥å…·ç»„åˆ
- âš¡ **è‡ªä¸»æ‰§è¡Œ** - AIä»£ç†è‡ªåŠ¨è°ƒç”¨å®‰å…¨å·¥å…·ï¼Œæ— éœ€äººå·¥å¹²é¢„
- ğŸ”„ **è‡ªé€‚åº”è°ƒæ•´** - æ ¹æ®å·¥å…·æ‰§è¡Œç»“æœå’Œå‘ç°çš„æ¼æ´ï¼ŒAIè‡ªåŠ¨è°ƒæ•´æµ‹è¯•ç­–ç•¥
- ğŸ“ **æ™ºèƒ½æ€»ç»“** - è¾¾åˆ°æœ€å¤§è¿­ä»£æ¬¡æ•°æ—¶ï¼ŒAIè‡ªåŠ¨æ€»ç»“æµ‹è¯•ç»“æœå¹¶æä¾›ä¸‹ä¸€æ­¥æ‰§è¡Œè®¡åˆ’
- ğŸ’¬ **å¯¹è¯å¼äº¤äº’** - è‡ªç„¶è¯­è¨€å¯¹è¯ç•Œé¢ï¼Œæ”¯æŒæµå¼è¾“å‡ºï¼ˆSSEï¼‰ï¼Œå®æ—¶æŸ¥çœ‹æ‰§è¡Œè¿‡ç¨‹
- ğŸ“Š **å¯¹è¯å†å²ç®¡ç†** - å®Œæ•´çš„å¯¹è¯å†å²è®°å½•ï¼Œæ”¯æŒæŸ¥çœ‹ã€åˆ é™¤å’Œç®¡ç†

### å·¥å…·é›†æˆ
- ğŸ”Œ **MCPåè®®æ”¯æŒ** - å®Œæ•´å®ç°MCPåè®®ï¼Œæ”¯æŒå·¥å…·æ³¨å†Œã€è°ƒç”¨ã€ç›‘æ§
- ğŸ› ï¸ **çµæ´»å·¥å…·é…ç½®** - æ”¯æŒä»ç›®å½•åŠ è½½å·¥å…·é…ç½®ï¼ˆYAMLï¼‰ï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤
- ğŸ“ˆ **å®æ—¶ç›‘æ§** - ç›‘æ§æ‰€æœ‰å·¥å…·çš„æ‰§è¡ŒçŠ¶æ€ã€ç»“æœã€è°ƒç”¨æ¬¡æ•°å’Œç»Ÿè®¡ä¿¡æ¯
- ğŸ” **æ¼æ´è‡ªåŠ¨åˆ†æ** - è‡ªåŠ¨åˆ†æå·¥å…·è¾“å‡ºï¼Œæå–å’Œåˆ†ç±»å‘ç°çš„æ¼æ´

### æŠ€æœ¯ç‰¹æ€§
- ğŸš€ **æµå¼è¾“å‡º** - æ”¯æŒServer-Sent Events (SSE)å®æ—¶æµå¼è¾“å‡ºï¼Œæå‡ç”¨æˆ·ä½“éªŒ
- ğŸ’¾ **æ•°æ®æŒä¹…åŒ–** - SQLiteæ•°æ®åº“å­˜å‚¨å¯¹è¯å†å²å’Œè¿‡ç¨‹è¯¦æƒ…
- ğŸ“ **è¯¦ç»†æ—¥å¿—** - ç»“æ„åŒ–æ—¥å¿—è®°å½•ï¼Œä¾¿äºè°ƒè¯•å’Œé—®é¢˜æ’æŸ¥
- ğŸ”’ **å®‰å…¨æ‰§è¡Œ** - å·¥å…·æ‰§è¡Œéš”ç¦»ï¼Œé”™è¯¯å¤„ç†å’Œè¶…æ—¶æ§åˆ¶

## ğŸ“ é¡¹ç›®ç»“æ„

```
CyberStrikeAI/
â”œâ”€â”€ cmd/
â”‚   â”œâ”€â”€ server/
â”‚   â”‚   â””â”€â”€ main.go          # ç¨‹åºå…¥å£ï¼Œå¯åŠ¨HTTPæœåŠ¡å™¨
â”‚   â””â”€â”€ test-config/
â”‚       â””â”€â”€ main.go          # é…ç½®æµ‹è¯•å·¥å…·
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ agent/               # AIä»£ç†æ¨¡å—
â”‚   â”‚   â””â”€â”€ agent.go         # Agent Loopå®ç°ï¼Œå¤„ç†AIå¯¹è¯å’Œå·¥å…·è°ƒç”¨
â”‚   â”œâ”€â”€ app/                 # åº”ç”¨åˆå§‹åŒ–
â”‚   â”‚   â””â”€â”€ app.go           # åº”ç”¨ä¸»é€»è¾‘ï¼Œè·¯ç”±è®¾ç½®
â”‚   â”œâ”€â”€ config/              # é…ç½®ç®¡ç†
â”‚   â”‚   â””â”€â”€ config.go        # é…ç½®åŠ è½½å’Œå·¥å…·é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ database/            # æ•°æ®åº“æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ database.go      # æ•°æ®åº“è¿æ¥å’Œè¡¨ç»“æ„
â”‚   â”‚   â””â”€â”€ conversation.go  # å¯¹è¯å’Œæ¶ˆæ¯æ•°æ®è®¿é—®
â”‚   â”œâ”€â”€ handler/             # HTTPå¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ agent.go         # Agent Loop APIå¤„ç†
â”‚   â”‚   â”œâ”€â”€ conversation.go  # å¯¹è¯å†å²APIå¤„ç†
â”‚   â”‚   â””â”€â”€ monitor.go       # ç›‘æ§APIå¤„ç†
â”‚   â”œâ”€â”€ logger/              # æ—¥å¿—ç³»ç»Ÿ
â”‚   â”‚   â””â”€â”€ logger.go        # ç»“æ„åŒ–æ—¥å¿—å°è£…
â”‚   â”œâ”€â”€ mcp/                 # MCPåè®®å®ç°
â”‚   â”‚   â”œâ”€â”€ server.go        # MCPæœåŠ¡å™¨æ ¸å¿ƒé€»è¾‘
â”‚   â”‚   â””â”€â”€ types.go         # MCPåè®®ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ security/            # å®‰å…¨å·¥å…·æ‰§è¡Œå™¨
â”‚       â””â”€â”€ executor.go      # å·¥å…·æ‰§è¡Œå’Œå‚æ•°æ„å»º
â”œâ”€â”€ tools/                   # å·¥å…·é…ç½®æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ nmap.yaml            # nmapå·¥å…·é…ç½®
â”‚   â”œâ”€â”€ sqlmap.yaml          # sqlmapå·¥å…·é…ç½®
â”‚   â”œâ”€â”€ nikto.yaml           # niktoå·¥å…·é…ç½®
â”‚   â”œâ”€â”€ dirb.yaml            # dirbå·¥å…·é…ç½®
â”‚   â”œâ”€â”€ exec.yaml            # ç³»ç»Ÿå‘½ä»¤æ‰§è¡Œå·¥å…·é…ç½®
â”‚   â””â”€â”€ README.md            # å·¥å…·é…ç½®è¯´æ˜
â”œâ”€â”€ web/                     # Webå‰ç«¯
â”‚   â”œâ”€â”€ static/              # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â”‚   â””â”€â”€ style.css    # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ js/
â”‚   â”‚       â””â”€â”€ app.js       # å‰ç«¯JavaScripté€»è¾‘
â”‚   â””â”€â”€ templates/           # HTMLæ¨¡æ¿
â”‚       â””â”€â”€ index.html       # ä¸»é¡µé¢æ¨¡æ¿
â”œâ”€â”€ data/                    # æ•°æ®ç›®å½•ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”‚   â””â”€â”€ conversations.db     # SQLiteæ•°æ®åº“æ–‡ä»¶
â”œâ”€â”€ config.yaml              # ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ go.mod                   # Goæ¨¡å—ä¾èµ–
â”œâ”€â”€ go.sum                   # Goä¾èµ–æ ¡éªŒå’Œ
â”œâ”€â”€ run.sh                   # å¯åŠ¨è„šæœ¬
â””â”€â”€ README.md                # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Go 1.21 æˆ–æ›´é«˜ç‰ˆæœ¬
- OpenAI API Keyï¼ˆæˆ–å…¶ä»–å…¼å®¹OpenAIåè®®çš„APIï¼Œå¦‚DeepSeekã€Claudeç­‰ï¼‰
- å®‰å…¨å·¥å…·ï¼ˆå¯é€‰ï¼‰ï¼šæ ¹æ®æ‚¨çš„éœ€æ±‚å®‰è£…ç›¸åº”çš„å®‰å…¨å·¥å…·ï¼Œç³»ç»Ÿæ”¯æŒä¸Šç™¾ä¸ªå·¥å…·

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/Ed1s0nZ/CyberStrikeAI.git
cd CyberStrikeAI-main
```

2. **å®‰è£…ä¾èµ–**
```bash
go mod download
```

3. **é…ç½®**
ç¼–è¾‘ `config.yaml` æ–‡ä»¶ï¼Œè®¾ç½®æ‚¨çš„APIé…ç½®ï¼š

```yaml
# OpenAIå…¼å®¹APIé…ç½®ï¼ˆæ”¯æŒOpenAIã€DeepSeekã€Claudeç­‰ï¼‰
openai:
  api_key: "sk-your-api-key-here"  # æ›¿æ¢ä¸ºæ‚¨çš„API Key
  base_url: "https://api.openai.com/v1"  # æˆ–ä½¿ç”¨å…¶ä»–å…¼å®¹APIçš„åœ°å€
  model: "gpt-4"  # æˆ– "deepseek-chat", "gpt-3.5-turbo" ç­‰

# æœåŠ¡å™¨é…ç½®
server:
  host: "0.0.0.0"
  port: 8080

# æ•°æ®åº“é…ç½®
database:
  path: "data/conversations.db"

# å®‰å…¨å·¥å…·é…ç½®
security:
  tools_dir: "tools"  # å·¥å…·é…ç½®æ–‡ä»¶ç›®å½•
```

**æ”¯æŒçš„APIæœåŠ¡å•†ï¼š**
- OpenAI: `https://api.openai.com/v1`
- DeepSeek: `https://api.deepseek.com/v1`
- å…¶ä»–å…¼å®¹OpenAIåè®®çš„APIæœåŠ¡

4. **å®‰è£…å®‰å…¨å·¥å…·ï¼ˆå¯é€‰ï¼‰**

æ ¹æ®æ‚¨çš„éœ€æ±‚å®‰è£…ç›¸åº”çš„å®‰å…¨å·¥å…·ã€‚ç³»ç»Ÿæ”¯æŒä¸Šç™¾ä¸ªå·¥å…·ï¼Œæ‚¨å¯ä»¥æ ¹æ®å®é™…éœ€è¦é€‰æ‹©æ€§å®‰è£…ï¼š

```bash
# macOS (ä½¿ç”¨Homebrew)
brew install nmap sqlmap nuclei httpx gobuster feroxbuster subfinder amass

# Ubuntu/Debian
sudo apt-get install nmap sqlmap nuclei httpx gobuster feroxbuster

# æˆ–ä½¿ç”¨Dockerè¿è¡Œå·¥å…·
# æˆ–ä½¿ç”¨å„å·¥å…·çš„å®˜æ–¹å®‰è£…æ–¹æ³•
```

Ubuntuå®‰å…¨å·¥å…·æ‰¹é‡å®‰è£…è„šæœ¬: `https://github.com/Ed1s0nZ/sec_tools/blob/main/install_tools_ubuntu.sh`

**æ³¨æ„**ï¼šä¸æ˜¯æ‰€æœ‰å·¥å…·éƒ½éœ€è¦å®‰è£…ï¼ŒAIä¼šæ ¹æ®æ‚¨çš„æµ‹è¯•éœ€æ±‚è‡ªåŠ¨é€‰æ‹©å¯ç”¨çš„å·¥å…·ã€‚å¦‚æœæŸä¸ªå·¥å…·æœªå®‰è£…ï¼ŒAIä¼šå°è¯•ä½¿ç”¨æ›¿ä»£å·¥å…·ã€‚

5. **å¯åŠ¨æœåŠ¡å™¨**

#### æ–¹å¼ä¸€ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰
```bash
chmod +x run.sh
./run.sh
```

#### æ–¹å¼äºŒï¼šç›´æ¥è¿è¡Œ
```bash
go run cmd/server/main.go
```

#### æ–¹å¼ä¸‰ï¼šç¼–è¯‘åè¿è¡Œ
```bash
go build -o cyberstrike-ai cmd/server/main.go
./cyberstrike-ai
```

#### æ–¹å¼å››ï¼šæŒ‡å®šé…ç½®æ–‡ä»¶
```bash
go run cmd/server/main.go -config /path/to/config.yaml
```

6. **è®¿é—®åº”ç”¨**
æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:8080

æ‚¨å°†çœ‹åˆ°ï¼š
- **å¯¹è¯æµ‹è¯•** - ä¸AIå¯¹è¯è¿›è¡Œæ¸—é€æµ‹è¯•
- **å·¥å…·ç›‘æ§** - æŸ¥çœ‹å·¥å…·æ‰§è¡ŒçŠ¶æ€å’Œç»“æœ
- **å¯¹è¯å†å²** - ç®¡ç†å†å²å¯¹è¯è®°å½•

## âš™ï¸ é…ç½®è¯´æ˜

### å®Œæ•´é…ç½®ç¤ºä¾‹

```yaml
# æœåŠ¡å™¨é…ç½®
server:
  host: "0.0.0.0"  # ç›‘å¬åœ°å€
  port: 8080        # HTTPæœåŠ¡ç«¯å£

# æ—¥å¿—é…ç½®
log:
  level: "info"     # æ—¥å¿—çº§åˆ«: debug, info, warn, error
  output: "stdout"  # è¾“å‡ºä½ç½®: stdout, stderr, æˆ–æ–‡ä»¶è·¯å¾„

# MCPåè®®é…ç½®
mcp:
  enabled: true     # æ˜¯å¦å¯ç”¨MCPæœåŠ¡å™¨
  host: "0.0.0.0"   # MCPæœåŠ¡å™¨ç›‘å¬åœ°å€
  port: 8081        # MCPæœåŠ¡å™¨ç«¯å£

# AIæ¨¡å‹é…ç½®ï¼ˆæ”¯æŒOpenAIå…¼å®¹APIï¼‰
openai:
  api_key: "sk-xxx"  # APIå¯†é’¥
  base_url: "https://api.deepseek.com/v1"  # APIåŸºç¡€URL
  model: "deepseek-chat"  # æ¨¡å‹åç§°

# æ•°æ®åº“é…ç½®
database:
  path: "data/conversations.db"  # SQLiteæ•°æ®åº“è·¯å¾„

# å®‰å…¨å·¥å…·é…ç½®
security:
  # æ¨èæ–¹å¼ï¼šä»ç›®å½•åŠ è½½å·¥å…·é…ç½®
  tools_dir: "tools"  # å·¥å…·é…ç½®æ–‡ä»¶ç›®å½•ï¼ˆç›¸å¯¹äºé…ç½®æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼‰
  
  # å‘åå…¼å®¹ï¼šä¹Ÿå¯ä»¥åœ¨ä¸»é…ç½®æ–‡ä»¶ä¸­ç›´æ¥å®šä¹‰å·¥å…·
  # tools:
  #   - name: "nmap"
  #     command: "nmap"
  #     args: ["-sT", "-sV", "-sC"]
  #     description: "ç½‘ç»œæ‰«æå·¥å…·"
  #     enabled: true
```

### å·¥å…·é…ç½®æ–¹å¼

**æ–¹å¼ä¸€ï¼šä½¿ç”¨å·¥å…·ç›®å½•ï¼ˆæ¨èï¼‰**

åœ¨ `tools/` ç›®å½•ä¸‹ä¸ºæ¯ä¸ªå·¥å…·åˆ›å»ºç‹¬ç«‹çš„YAMLé…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚ `tools/nmap.yaml`ï¼š

```yaml
name: "nmap"
command: "nmap"
args: ["-sT", "-sV", "-sC"]
enabled: true

short_description: "ç½‘ç»œæ‰«æå·¥å…·ï¼Œç”¨äºå‘ç°ç½‘ç»œä¸»æœºã€å¼€æ”¾ç«¯å£å’ŒæœåŠ¡"

description: |
  ç½‘ç»œæ˜ å°„å’Œç«¯å£æ‰«æå·¥å…·ï¼Œç”¨äºå‘ç°ç½‘ç»œä¸­çš„ä¸»æœºã€æœåŠ¡å’Œå¼€æ”¾ç«¯å£ã€‚

parameters:
  - name: "target"
    type: "string"
    description: "ç›®æ ‡IPåœ°å€æˆ–åŸŸå"
    required: true
    position: 0
    format: "positional"
  
  - name: "ports"
    type: "string"
    description: "ç«¯å£èŒƒå›´ï¼Œä¾‹å¦‚: 1-1000"
    required: false
    flag: "-p"
    format: "flag"
```

**æ–¹å¼äºŒï¼šåœ¨ä¸»é…ç½®æ–‡ä»¶ä¸­å®šä¹‰**

ç›´æ¥åœ¨ `config.yaml` çš„ `security.tools` ä¸­å®šä¹‰å·¥å…·é…ç½®ã€‚

**æ³¨æ„ï¼š** å¦‚æœåŒæ—¶é…ç½®äº† `tools_dir` å’Œ `tools`ï¼Œ`tools_dir` ä¸­çš„å·¥å…·ä¼˜å…ˆã€‚

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

### å¯¹è¯å¼æ¸—é€æµ‹è¯•

åœ¨Webç•Œé¢çš„"å¯¹è¯æµ‹è¯•"æ ‡ç­¾é¡µä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è‡ªç„¶è¯­è¨€ä¸AIå¯¹è¯ï¼š

#### 1. ç½‘ç»œæ‰«æ
```
æ‰«æ 192.168.1.1 çš„å¼€æ”¾ç«¯å£
```
æˆ–æ›´è¯¦ç»†çš„æŒ‡ä»¤ï¼š
```
å¯¹ 192.168.1.1 è¿›è¡Œå…¨é¢çš„ç«¯å£æ‰«æï¼Œé‡ç‚¹å…³æ³¨80ã€443ã€22ã€21ç«¯å£
```

#### 2. SQLæ³¨å…¥æ£€æµ‹
```
æ£€æµ‹ https://example.com/page?id=1 æ˜¯å¦å­˜åœ¨SQLæ³¨å…¥æ¼æ´
```

#### 3. Webæ¼æ´æ‰«æ
```
æ‰«æ https://example.com çš„WebæœåŠ¡å™¨æ¼æ´ï¼ŒåŒ…æ‹¬å¸¸è§çš„å®‰å…¨é—®é¢˜
```

#### 4. ç›®å½•æ‰«æ
```
æ‰«æ https://example.com çš„éšè—ç›®å½•å’Œæ–‡ä»¶
```

#### 5. ç»¼åˆå®‰å…¨æµ‹è¯•
```
å¯¹ example.com è¿›è¡Œå…¨é¢çš„å®‰å…¨è¯„ä¼°ï¼ŒåŒ…æ‹¬ç«¯å£æ‰«æã€Webæ¼æ´æ£€æµ‹å’Œç›®å½•æšä¸¾
```

#### 6. å¤šæ­¥éª¤æµ‹è¯•
```
é¦–å…ˆæ‰«æ 192.168.1.1 çš„å¼€æ”¾ç«¯å£ï¼Œç„¶åå¯¹å‘ç°çš„WebæœåŠ¡è¿›è¡Œæ¼æ´æ‰«æ
```

### åæ¸—é€æµ‹è¯•

åœ¨è·å¾—åˆå§‹è®¿é—®æƒé™åï¼Œå¯ä»¥ä½¿ç”¨åæ¸—é€å·¥å…·è¿›è¡Œæƒé™æå‡ã€æ¨ªå‘ç§»åŠ¨å’ŒæŒä¹…åŒ–ï¼š

#### 1. Linux æƒé™æå‡æšä¸¾
```
ä½¿ç”¨ linpeas å¯¹ç›®æ ‡ Linux ç³»ç»Ÿè¿›è¡Œæƒé™æå‡æ£€æŸ¥
```

#### 2. Windows æƒé™æå‡æšä¸¾
```
ä½¿ç”¨ winpeas å¯¹ç›®æ ‡ Windows ç³»ç»Ÿè¿›è¡Œæƒé™æå‡æ£€æŸ¥
```

#### 3. Active Directory æ”»å‡»è·¯å¾„åˆ†æ
```
ä½¿ç”¨ bloodhound åˆ†æ Active Directory çš„æ”»å‡»è·¯å¾„
```

#### 4. å‡­è¯æå–
```
ä½¿ç”¨ mimikatz æå– Windows ç³»ç»Ÿçš„å‡­è¯ä¿¡æ¯
```

#### 5. æ¨ªå‘ç§»åŠ¨
```
ä½¿ç”¨ impacket å·¥å…·é›†è¿›è¡Œç½‘ç»œåè®®æ”»å‡»å’Œæ¨ªå‘ç§»åŠ¨
```

#### 6. åé—¨ç”Ÿæˆ
```
ä½¿ç”¨ msfvenom ç”Ÿæˆåå‘ shell è½½è·
```

### CTF ç«èµ›æ”¯æŒ

ç³»ç»Ÿå†…ç½®äº†ä¸°å¯Œçš„ CTF å·¥å…·ï¼Œæ”¯æŒå„ç§ CTF é¢˜å‹çš„è§£é¢˜ï¼š

#### 1. éšå†™åˆ†æ
```
ä½¿ç”¨ stegsolve åˆ†æå›¾ç‰‡éšå†™
ä½¿ç”¨ zsteg æ£€æµ‹ LSB éšå†™
```

#### 2. å¯†ç ç ´è§£
```
ä½¿ç”¨ hashcat ç ´è§£å“ˆå¸Œå€¼
ä½¿ç”¨ john ç ´è§£å¯†ç æ–‡ä»¶
ä½¿ç”¨ fcrackzip ç ´è§£ ZIP æ–‡ä»¶å¯†ç 
ä½¿ç”¨ pdfcrack ç ´è§£ PDF æ–‡ä»¶å¯†ç 
```

#### 3. äºŒè¿›åˆ¶åˆ†æ
```
ä½¿ç”¨ gdb è°ƒè¯•äºŒè¿›åˆ¶æ–‡ä»¶
ä½¿ç”¨ radare2 è¿›è¡Œé€†å‘åˆ†æ
ä½¿ç”¨ strings æå–äºŒè¿›åˆ¶æ–‡ä»¶ä¸­çš„å­—ç¬¦ä¸²
```

#### 4. å“ˆå¸Œè¯†åˆ«
```
ä½¿ç”¨ hash-identifier è¯†åˆ«å“ˆå¸Œç±»å‹
```

#### 5. æ•°æ®è½¬æ¢å’Œåˆ†æ
```
ä½¿ç”¨ cyberchef è¿›è¡Œå„ç§æ•°æ®è½¬æ¢å’Œåˆ†æ
ä½¿ç”¨ xxd æŸ¥çœ‹æ–‡ä»¶åå…­è¿›åˆ¶å†…å®¹
```

#### 6. ç»¼åˆ CTF è§£é¢˜
```
åˆ†æè¿™ä¸ª CTF é¢˜ç›®ï¼šç»™å®šä¸€ä¸ªåŒ…å«éšå†™å’ŒåŠ å¯†çš„æ–‡ä»¶ï¼Œæ‰¾å‡º flag
```

### ç›‘æ§å·¥å…·æ‰§è¡Œ

åœ¨"å·¥å…·ç›‘æ§"æ ‡ç­¾é¡µä¸­ï¼Œæ‚¨å¯ä»¥ï¼š

- ğŸ“Š **æ‰§è¡Œç»Ÿè®¡** - æŸ¥çœ‹æ‰€æœ‰å·¥å…·çš„è°ƒç”¨æ¬¡æ•°ã€æˆåŠŸ/å¤±è´¥ç»Ÿè®¡
- ğŸ“ **æ‰§è¡Œè®°å½•** - æŸ¥çœ‹è¯¦ç»†çš„å·¥å…·æ‰§è¡Œå†å²ï¼ŒåŒ…æ‹¬å‚æ•°ã€ç»“æœã€è€—æ—¶
- ğŸ” **æ¼æ´åˆ—è¡¨** - è‡ªåŠ¨æå–å’Œåˆ†ç±»å‘ç°çš„æ¼æ´
- â±ï¸ **å®æ—¶çŠ¶æ€** - å®æ—¶æŸ¥çœ‹æ­£åœ¨æ‰§è¡Œçš„å·¥å…·çŠ¶æ€

### å¯¹è¯å†å²ç®¡ç†

- ğŸ“š **æŸ¥çœ‹å†å²** - æµè§ˆæ‰€æœ‰å†å²å¯¹è¯è®°å½•
- ğŸ” **æœç´¢å¯¹è¯** - æ ¹æ®æ ‡é¢˜æœç´¢å¯¹è¯
- ğŸ—‘ï¸ **åˆ é™¤å¯¹è¯** - æ¸…ç†ä¸éœ€è¦çš„å¯¹è¯è®°å½•
- ğŸ“„ **æŸ¥çœ‹è¯¦æƒ…** - æŸ¥çœ‹å¯¹è¯çš„å®Œæ•´æ¶ˆæ¯å’Œå·¥å…·æ‰§è¡Œè¿‡ç¨‹

## æ•ˆæœ

### å¯¹è¯æ•ˆæœ
  ![è¯¦æƒ…é¢„è§ˆ](./img/æ•ˆæœ1.png)
  ![è¯¦æƒ…é¢„è§ˆ](./img/æ•ˆæœ2.png)

### MCPè°ƒç”¨
  ![è¯¦æƒ…é¢„è§ˆ](./img/MCP.png)

### è°ƒç”¨é“¾
  ![è¯¦æƒ…é¢„è§ˆ](./img/è°ƒç”¨é“¾1.png)
  

## ğŸ“¡ APIæ¥å£

### Agent Loop API

#### æ ‡å‡†è¯·æ±‚ï¼ˆåŒæ­¥ï¼‰

**POST** `/api/agent-loop`

è¯·æ±‚ä½“ï¼š
```json
{
  "message": "æ‰«æ 192.168.1.1",
  "conversationId": "optional-conversation-id"  // å¯é€‰ï¼Œç”¨äºç»§ç»­å¯¹è¯
}
```

å“åº”ï¼š
```json
{
  "response": "AIçš„å›å¤å†…å®¹",
  "mcpExecutionIds": ["exec-id-1", "exec-id-2"],
  "conversationId": "conversation-id",
  "time": "2024-01-01T00:00:00Z"
}
```

ä½¿ç”¨ç¤ºä¾‹ï¼š
```bash
curl -X POST http://localhost:8080/api/agent-loop \
  -H "Content-Type: application/json" \
  -d '{"message": "æ‰«æ 192.168.1.1"}'
```

#### æµå¼è¯·æ±‚ï¼ˆæ¨èï¼Œå®æ—¶è¾“å‡ºï¼‰

**POST** `/api/agent-loop/stream`

ä½¿ç”¨Server-Sent Events (SSE)å®æ—¶è¿”å›æ‰§è¡Œè¿‡ç¨‹ã€‚

è¯·æ±‚ä½“ï¼š
```json
{
  "message": "æ‰«æ 192.168.1.1",
  "conversationId": "optional-conversation-id"
}
```

äº‹ä»¶ç±»å‹ï¼š
- `progress` - è¿›åº¦æ›´æ–°
- `iteration` - è¿­ä»£å¼€å§‹
- `thinking` - AIæ€è€ƒå†…å®¹
- `tool_call` - å·¥å…·è°ƒç”¨å¼€å§‹
- `tool_result` - å·¥å…·æ‰§è¡Œç»“æœ
- `response` - æœ€ç»ˆå›å¤
- `error` - é”™è¯¯ä¿¡æ¯
- `done` - å®Œæˆ

ä½¿ç”¨ç¤ºä¾‹ï¼ˆJavaScriptï¼‰ï¼š
```javascript
const eventSource = new EventSource('/api/agent-loop/stream', {
  method: 'POST',
  body: JSON.stringify({ message: 'æ‰«æ 192.168.1.1' })
});

eventSource.onmessage = (event) => {
  const data = JSON.parse(event.data);
  console.log(data.type, data.message, data.data);
};
```

### å¯¹è¯å†å²API

#### åˆ›å»ºå¯¹è¯

**POST** `/api/conversations`

è¯·æ±‚ä½“ï¼š
```json
{
  "title": "å¯¹è¯æ ‡é¢˜"
}
```

#### è·å–å¯¹è¯åˆ—è¡¨

**GET** `/api/conversations`

æŸ¥è¯¢å‚æ•°ï¼š
- `limit` - é™åˆ¶è¿”å›æ•°é‡ï¼ˆå¯é€‰ï¼‰
- `offset` - åç§»é‡ï¼ˆå¯é€‰ï¼‰

#### è·å–å•ä¸ªå¯¹è¯

**GET** `/api/conversations/:id`

è¿”å›å¯¹è¯çš„å®Œæ•´ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ‰€æœ‰æ¶ˆæ¯ã€‚

#### åˆ é™¤å¯¹è¯

**DELETE** `/api/conversations/:id`

### ç›‘æ§API

#### è·å–æ‰€æœ‰ç›‘æ§ä¿¡æ¯

**GET** `/api/monitor`

è¿”å›æ‰€æœ‰æ‰§è¡Œè®°å½•ã€ç»Ÿè®¡ä¿¡æ¯å’Œæ¼æ´åˆ—è¡¨ã€‚

#### è·å–ç‰¹å®šæ‰§è¡Œè®°å½•

**GET** `/api/monitor/execution/:id`

è¿”å›æŒ‡å®šIDçš„å·¥å…·æ‰§è¡Œè¯¦æƒ…ã€‚

#### è·å–ç»Ÿè®¡ä¿¡æ¯

**GET** `/api/monitor/stats`

è¿”å›æ‰€æœ‰å·¥å…·çš„è°ƒç”¨ç»Ÿè®¡ï¼š
```json
{
  "nmap": {
    "toolName": "nmap",
    "totalCalls": 10,
    "successCalls": 9,
    "failedCalls": 1,
    "lastCallTime": "2024-01-01T00:00:00Z"
  }
}
```

#### è·å–æ¼æ´åˆ—è¡¨

**GET** `/api/monitor/vulnerabilities`

è¿”å›æ‰€æœ‰å‘ç°çš„æ¼æ´ï¼š
```json
{
  "total": 5,
  "severityCount": {
    "critical": 0,
    "high": 2,
    "medium": 2,
    "low": 1
  },
  "vulnerabilities": [...]
}
```

### MCPåè®®æ¥å£

**POST** `/api/mcp`

MCPåè®®ç«¯ç‚¹ï¼Œæ”¯æŒJSON-RPC 2.0æ ¼å¼çš„è¯·æ±‚ã€‚

## ğŸ”Œ MCPåè®®

æœ¬é¡¹ç›®å®Œæ•´å®ç°äº†MCPï¼ˆModel Context Protocolï¼‰åè®®ï¼Œæ”¯æŒä»¥ä¸‹åŠŸèƒ½ï¼š

### æ”¯æŒçš„æ–¹æ³•

- `initialize` - åˆå§‹åŒ–è¿æ¥ï¼Œåå•†åè®®ç‰ˆæœ¬å’ŒåŠŸèƒ½
- `tools/list` - åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„å·¥å…·
- `tools/call` - è°ƒç”¨æŒ‡å®šå·¥å…·å¹¶æ‰§è¡Œ
- `prompts/list` - åˆ—å‡ºå¯ç”¨çš„æç¤ºè¯æ¨¡æ¿
- `prompts/get` - è·å–æç¤ºè¯æ¨¡æ¿å†…å®¹
- `resources/list` - åˆ—å‡ºå¯ç”¨èµ„æº
- `resources/read` - è¯»å–èµ„æºå†…å®¹
- `sampling/request` - é‡‡æ ·è¯·æ±‚ï¼ˆå ä½å®ç°ï¼‰

### å·¥å…·æ‰§è¡Œæœºåˆ¶

- å·¥å…·è°ƒç”¨æ˜¯åŒæ­¥æ‰§è¡Œçš„ï¼Œç¡®ä¿é”™è¯¯èƒ½æ­£ç¡®è¿”å›
- æ¯ä¸ªå·¥å…·è°ƒç”¨éƒ½ä¼šåˆ›å»ºæ‰§è¡Œè®°å½•ï¼ŒåŒ…å«ï¼š
  - æ‰§è¡ŒIDï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰
  - å·¥å…·åç§°å’Œå‚æ•°
  - æ‰§è¡ŒçŠ¶æ€ï¼ˆrunning, completed, failedï¼‰
  - å¼€å§‹å’Œç»“æŸæ—¶é—´
  - æ‰§è¡Œç»“æœæˆ–é”™è¯¯ä¿¡æ¯
- ç³»ç»Ÿè‡ªåŠ¨è·Ÿè¸ªæ‰€æœ‰å·¥å…·çš„æ‰§è¡Œç»Ÿè®¡ä¿¡æ¯

### MCPåè®®ä½¿ç”¨ç¤ºä¾‹

#### åˆå§‹åŒ–è¿æ¥

```bash
curl -X POST http://localhost:8080/api/mcp \
  -H "Content-Type: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "id": "1",
    "method": "initialize",
    "params": {
      "protocolVersion": "2024-11-05",
      "capabilities": {},
      "clientInfo": {
        "name": "test-client",
        "version": "1.0.0"
      }
    }
  }'
```

#### åˆ—å‡ºå·¥å…·

```bash
curl -X POST http://localhost:8080/api/mcp \
  -H "Content-Type: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "id": "2",
    "method": "tools/list"
  }'
```

#### è°ƒç”¨å·¥å…·

```bash
curl -X POST http://localhost:8080/api/mcp \
  -H "Content-Type: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "id": "3",
    "method": "tools/call",
    "params": {
      "name": "nmap",
      "arguments": {
        "target": "192.168.1.1",
        "ports": "1-1000"
      }
    }
  }'
```

## ğŸ› ï¸ å®‰å…¨å·¥å…·æ”¯æŒ

### å·¥å…·æ¦‚è§ˆ

å½“å‰ç³»ç»Ÿé›†æˆäº† **ä¸Šç™¾ä¸ªå®‰å…¨å·¥å…·**ï¼Œæ¶µç›–ä»¥ä¸‹ç±»åˆ«ï¼š

- **ç½‘ç»œæ‰«æå·¥å…·** - nmap, masscan, rustscan, arp-scan, nbtscan ç­‰
- **Webåº”ç”¨æ‰«æ** - sqlmap, nikto, dirb, gobuster, feroxbuster, ffuf, httpx ç­‰
- **æ¼æ´æ‰«æ** - nuclei, wpscan, wafw00f, dalfox, xsser ç­‰
- **å­åŸŸåæšä¸¾** - subfinder, amass, findomain, dnsenum, fierce ç­‰
- **APIå®‰å…¨** - graphql-scanner, arjun, api-fuzzer, api-schema-analyzer ç­‰
- **å®¹å™¨å®‰å…¨** - trivy, clair, docker-bench-security, kube-bench, kube-hunter ç­‰
- **äº‘å®‰å…¨** - prowler, scout-suite, cloudmapper, pacu, terrascan, checkov ç­‰
- **äºŒè¿›åˆ¶åˆ†æ** - gdb, radare2, ghidra, objdump, strings, binwalk ç­‰
- **æ¼æ´åˆ©ç”¨** - metasploit, msfvenom, pwntools, ropper, ropgadget ç­‰
- **å¯†ç ç ´è§£** - hashcat, john, hashpump ç­‰
- **å–è¯åˆ†æ** - volatility, volatility3, foremost, steghide, exiftool ç­‰
- **åæ¸—é€å·¥å…·** - linpeas, winpeas, mimikatz, bloodhound, impacket, responder ç­‰
- **CTFå·¥å…·** - stegsolve, zsteg, hash-identifier, fcrackzip, pdfcrack, cyberchef ç­‰
- **ç³»ç»Ÿå·¥å…·** - exec, create-file, delete-file, list-files, modify-file ç­‰

### ä¸»è¦å·¥å…·ç¤ºä¾‹

- **nmap** - ç½‘ç»œç«¯å£æ‰«æå’ŒæœåŠ¡è¯†åˆ«
  - åŠŸèƒ½ï¼šä¸»æœºå‘ç°ã€ç«¯å£æ‰«æã€æœåŠ¡ç‰ˆæœ¬æ£€æµ‹ã€æ“ä½œç³»ç»Ÿè¯†åˆ«
  - é…ç½®ï¼š`tools/nmap.yaml`
  
- **sqlmap** - SQLæ³¨å…¥è‡ªåŠ¨åŒ–æ£€æµ‹å’Œåˆ©ç”¨å·¥å…·
  - åŠŸèƒ½ï¼šè‡ªåŠ¨æ£€æµ‹SQLæ³¨å…¥æ¼æ´ã€æ•°æ®åº“æŒ‡çº¹è¯†åˆ«ã€æ•°æ®æå–
  - é…ç½®ï¼š`tools/sqlmap.yaml`
  
- **nuclei** - å¿«é€Ÿæ¼æ´æ‰«æå™¨
  - åŠŸèƒ½ï¼šåŸºäºæ¨¡æ¿çš„æ¼æ´æ‰«æã€å¤§è§„æ¨¡æ‰«ææ”¯æŒ
  - é…ç½®ï¼š`tools/nuclei.yaml`
  
- **httpx** - HTTPæ¢æµ‹å·¥å…·
  - åŠŸèƒ½ï¼šHTTP/HTTPSæ¢æµ‹ã€çŠ¶æ€ç æ£€æµ‹ã€æ ‡é¢˜æå–
  - é…ç½®ï¼š`tools/httpx.yaml`
  
- **exec** - ç³»ç»Ÿå‘½ä»¤æ‰§è¡Œå·¥å…·
  - åŠŸèƒ½ï¼šæ‰§è¡Œä»»æ„ç³»ç»Ÿå‘½ä»¤ï¼ˆéœ€è°¨æ…ä½¿ç”¨ï¼‰
  - é…ç½®ï¼š`tools/exec.yaml`
  - âš ï¸ è­¦å‘Šï¼šæ­¤å·¥å…·å¯ä»¥æ‰§è¡Œä»»æ„å‘½ä»¤ï¼Œè¯·ç¡®ä¿å®‰å…¨ä½¿ç”¨

å®Œæ•´çš„å·¥å…·åˆ—è¡¨è¯·æŸ¥çœ‹ `tools/TOOLS_LIST.md` æ–‡ä»¶ã€‚

### æ·»åŠ æ–°å·¥å…·

#### æ–¹æ³•ä¸€ï¼šåˆ›å»ºå·¥å…·é…ç½®æ–‡ä»¶ï¼ˆæ¨èï¼‰

1. åœ¨ `tools/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„YAMLæ–‡ä»¶ï¼Œä¾‹å¦‚ `tools/mytool.yaml`ï¼š

```yaml
name: "mytool"
command: "mytool"
args: ["--default-arg"]
enabled: true

short_description: "ç®€çŸ­æè¿°ï¼ˆç”¨äºå·¥å…·åˆ—è¡¨ï¼‰"

description: |
  å·¥å…·çš„è¯¦ç»†æè¿°ï¼Œå¸®åŠ©AIç†è§£å·¥å…·çš„ç”¨é€”å’Œä½¿ç”¨åœºæ™¯ã€‚

parameters:
  - name: "target"
    type: "string"
    description: "ç›®æ ‡å‚æ•°æè¿°"
    required: true
    position: 0  # ä½ç½®å‚æ•°
    format: "positional"
  
  - name: "option"
    type: "string"
    description: "é€‰é¡¹å‚æ•°æè¿°"
    required: false
    flag: "--option"
    format: "flag"
```

2. é‡å¯æœåŠ¡å™¨ï¼Œå·¥å…·ä¼šè‡ªåŠ¨åŠ è½½ã€‚

#### æ–¹æ³•äºŒï¼šåœ¨ä¸»é…ç½®æ–‡ä»¶ä¸­æ·»åŠ 

åœ¨ `config.yaml` çš„ `security.tools` ä¸­æ·»åŠ å·¥å…·é…ç½®ã€‚

### å·¥å…·å‚æ•°é…ç½®

å·¥å…·å‚æ•°æ”¯æŒä»¥ä¸‹æ ¼å¼ï¼š

- **positional** - ä½ç½®å‚æ•°ï¼ŒæŒ‰é¡ºåºæ·»åŠ åˆ°å‘½ä»¤ä¸­
- **flag** - æ ‡å¿—å‚æ•°ï¼Œæ ¼å¼ä¸º `--flag value` æˆ– `-f value`
- **combined** - ç»„åˆæ ¼å¼ï¼Œæ ¼å¼ä¸º `--flag=value`
- **template** - æ¨¡æ¿æ ¼å¼ï¼Œä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿å­—ç¬¦ä¸²

å‚æ•°ç±»å‹æ”¯æŒï¼š
- `string` - å­—ç¬¦ä¸²
- `int` / `integer` - æ•´æ•°
- `bool` / `boolean` - å¸ƒå°”å€¼
- `array` - æ•°ç»„ï¼ˆè‡ªåŠ¨è½¬æ¢ä¸ºé€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ï¼‰

## ğŸ”§ æ•…éšœæ’é™¤

### APIè¿æ¥é—®é¢˜

**é—®é¢˜ï¼šæ— æ³•è¿æ¥åˆ°OpenAI API**

- âœ… æ£€æŸ¥API Keyæ˜¯å¦æ­£ç¡®é…ç½®åœ¨ `config.yaml` ä¸­
- âœ… æ£€æŸ¥ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
- âœ… éªŒè¯ `base_url` é…ç½®æ˜¯å¦æ­£ç¡®
- âœ… ç¡®è®¤APIæœåŠ¡å•†æ˜¯å¦æ”¯æŒæ‚¨ä½¿ç”¨çš„æ¨¡å‹
- âœ… æ£€æŸ¥APIé…é¢å’Œä½™é¢æ˜¯å¦å……è¶³

**é—®é¢˜ï¼šAPIè¿”å›401æˆ–403é”™è¯¯**

- âœ… éªŒè¯API Keyæ˜¯å¦æœ‰æ•ˆ
- âœ… æ£€æŸ¥API Keyæ˜¯å¦æœ‰æƒé™è®¿é—®æŒ‡å®šæ¨¡å‹
- âœ… ç¡®è®¤APIæœåŠ¡å•†çš„è®¿é—®é™åˆ¶

### å·¥å…·æ‰§è¡Œé—®é¢˜

**é—®é¢˜ï¼šå·¥å…·æ‰§è¡Œå¤±è´¥æˆ–æ‰¾ä¸åˆ°å‘½ä»¤**

- âœ… ç¡®ä¿å·²å®‰è£…ç›¸åº”çš„å®‰å…¨å·¥å…·ï¼š
  ```bash
  # æ£€æŸ¥å·¥å…·æ˜¯å¦å®‰è£…
  which nmap sqlmap nikto dirb
  ```
- âœ… æ£€æŸ¥å·¥å…·æ˜¯å¦åœ¨ç³»ç»ŸPATHä¸­
- âœ… æŸäº›å·¥å…·å¯èƒ½éœ€è¦rootæƒé™ï¼ˆå¦‚nmapçš„SYNæ‰«æï¼‰
- âœ… æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯

**é—®é¢˜ï¼šå·¥å…·æ‰§è¡Œè¶…æ—¶**

- âœ… æŸäº›å·¥å…·ï¼ˆå¦‚nmapå…¨ç«¯å£æ‰«æï¼‰å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´
- âœ… æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œç›®æ ‡å“åº”
- âœ… è€ƒè™‘ä½¿ç”¨æ›´å°çš„æ‰«æèŒƒå›´

**é—®é¢˜ï¼šå·¥å…·å‚æ•°é”™è¯¯**

- âœ… æ£€æŸ¥å·¥å…·é…ç½®æ–‡ä»¶ä¸­çš„å‚æ•°å®šä¹‰
- âœ… æŸ¥çœ‹å·¥å…·æ‰§è¡Œæ—¥å¿—ä¸­çš„å®é™…å‘½ä»¤
- âœ… å‚è€ƒå·¥å…·çš„å®˜æ–¹æ–‡æ¡£éªŒè¯å‚æ•°æ ¼å¼

### æœåŠ¡å™¨é—®é¢˜

**é—®é¢˜ï¼šå‰ç«¯æ— æ³•åŠ è½½**

- âœ… æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š
  ```bash
  curl http://localhost:8080
  ```
- âœ… æ£€æŸ¥ç«¯å£8080æ˜¯å¦è¢«å ç”¨ï¼š
  ```bash
  lsof -i :8080
  ```
- âœ… æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
- âœ… æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

**é—®é¢˜ï¼šæ•°æ®åº“é”™è¯¯**

- âœ… ç¡®ä¿ `data/` ç›®å½•æœ‰å†™æƒé™
- âœ… æ£€æŸ¥æ•°æ®åº“æ–‡ä»¶æ˜¯å¦æŸå
- âœ… åˆ é™¤æ•°æ®åº“æ–‡ä»¶è®©ç³»ç»Ÿé‡æ–°åˆ›å»ºï¼ˆä¼šä¸¢å¤±å†å²æ•°æ®ï¼‰

### é…ç½®é—®é¢˜

**é—®é¢˜ï¼šå·¥å…·æœªåŠ è½½**

- âœ… æ£€æŸ¥ `tools_dir` é…ç½®æ˜¯å¦æ­£ç¡®
- âœ… éªŒè¯å·¥å…·é…ç½®æ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼ˆYAMLè¯­æ³•ï¼‰
- âœ… æŸ¥çœ‹å¯åŠ¨æ—¥å¿—ä¸­çš„å·¥å…·åŠ è½½ä¿¡æ¯
- âœ… ç¡®ä¿å·¥å…·é…ç½®ä¸­çš„ `enabled: true`

**é—®é¢˜ï¼šMCPæœåŠ¡å™¨æ— æ³•å¯åŠ¨**

- âœ… æ£€æŸ¥MCPç«¯å£ï¼ˆé»˜è®¤8081ï¼‰æ˜¯å¦è¢«å ç”¨
- âœ… éªŒè¯MCPé…ç½®ä¸­çš„ `enabled: true`
- âœ… æŸ¥çœ‹æ—¥å¿—ä¸­çš„MCPæœåŠ¡å™¨å¯åŠ¨ä¿¡æ¯

### æ—¥å¿—è°ƒè¯•

å¯ç”¨è¯¦ç»†æ—¥å¿—ï¼š
```yaml
log:
  level: "debug"  # æ”¹ä¸ºdebugçº§åˆ«
  output: "stdout"
```

æŸ¥çœ‹å®æ—¶æ—¥å¿—ï¼š
```bash
# å¦‚æœä½¿ç”¨run.sh
./run.sh | tee cyberstrike.log

# æˆ–ç›´æ¥è¿è¡Œ
go run cmd/server/main.go 2>&1 | tee cyberstrike.log
```

## å®‰å…¨æ³¨æ„äº‹é¡¹

âš ï¸ **é‡è¦æç¤º**ï¼š

- ä»…å¯¹æ‚¨æ‹¥æœ‰æˆ–å·²è·å¾—æˆæƒçš„ç³»ç»Ÿè¿›è¡Œæµ‹è¯•
- éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„
- å»ºè®®åœ¨éš”ç¦»çš„æµ‹è¯•ç¯å¢ƒä¸­ä½¿ç”¨
- ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨
- æŸäº›å®‰å…¨å·¥å…·å¯èƒ½éœ€è¦rootæƒé™

## ğŸ’» å¼€å‘æŒ‡å—

### é¡¹ç›®æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Web UI    â”‚  â† ç”¨æˆ·ç•Œé¢ï¼ˆHTML/CSS/JSï¼‰
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ HTTP
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Gin HTTP Server                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Handlers (agent, conversation, etc) â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Agent Module   â”‚  â”‚  MCP Server     â”‚ â”‚
â”‚  â”‚  (AI Loop)      â”‚â—„â”€â”¤  (Tool Manager) â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚                      â”‚           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  OpenAI API     â”‚  â”‚ Security Executorâ”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                â”‚           â”‚
â”‚                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                       â”‚  Security Tools â”‚  â”‚
â”‚                       â”‚ (nmap, sqlmap)  â”‚  â”‚
â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SQLite Databaseâ”‚  â† å¯¹è¯å†å²å’Œæ¶ˆæ¯å­˜å‚¨
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒæ¨¡å—è¯´æ˜

- **Agentæ¨¡å—** (`internal/agent/agent.go`)
  - å®ç°Agent Loopï¼Œå¤„ç†AIå¯¹è¯å’Œå·¥å…·è°ƒç”¨å†³ç­–
  - æ”¯æŒå¤šè½®å¯¹è¯å’Œå·¥å…·è°ƒç”¨é“¾
  - å¤„ç†å·¥å…·æ‰§è¡Œé”™è¯¯å’Œé‡è¯•é€»è¾‘

- **MCP Server** (`internal/mcp/server.go`)
  - å®ç°MCPåè®®æœåŠ¡å™¨
  - ç®¡ç†å·¥å…·æ³¨å†Œå’Œè°ƒç”¨
  - è·Ÿè¸ªå·¥å…·æ‰§è¡ŒçŠ¶æ€å’Œç»Ÿè®¡

- **Security Executor** (`internal/security/executor.go`)
  - æ‰§è¡Œå®‰å…¨å·¥å…·å‘½ä»¤
  - æ„å»ºå·¥å…·å‚æ•°
  - è§£æå·¥å…·è¾“å‡º

- **Database** (`internal/database/`)
  - SQLiteæ•°æ®åº“æ“ä½œ
  - å¯¹è¯å’Œæ¶ˆæ¯ç®¡ç†
  - è¿‡ç¨‹è¯¦æƒ…å­˜å‚¨

### æ·»åŠ æ–°å·¥å…·

#### æ¨èæ–¹å¼ï¼šä½¿ç”¨å·¥å…·é…ç½®æ–‡ä»¶

1. åœ¨ `tools/` ç›®å½•åˆ›å»ºå·¥å…·é…ç½®æ–‡ä»¶ï¼ˆå¦‚ `tools/mytool.yaml`ï¼‰
2. å®šä¹‰å·¥å…·å‚æ•°å’Œæè¿°
3. é‡å¯æœåŠ¡å™¨ï¼Œå·¥å…·è‡ªåŠ¨åŠ è½½

#### é«˜çº§æ–¹å¼ï¼šè‡ªå®šä¹‰å‚æ•°æ„å»ºé€»è¾‘

å¦‚æœå·¥å…·éœ€è¦ç‰¹æ®Šçš„å‚æ•°å¤„ç†ï¼Œå¯ä»¥åœ¨ `internal/security/executor.go` çš„ `buildCommandArgs` æ–¹æ³•ä¸­æ·»åŠ ï¼š

```go
case "mytool":
    // è‡ªå®šä¹‰å‚æ•°æ„å»ºé€»è¾‘
    if target, ok := args["target"].(string); ok {
        cmdArgs = append(cmdArgs, "--target", target)
    }
```

### æ„å»ºå’Œéƒ¨ç½²

#### æœ¬åœ°æ„å»º

```bash
go build -o cyberstrike-ai cmd/server/main.go
```

#### äº¤å‰ç¼–è¯‘

```bash
# Linux
GOOS=linux GOARCH=amd64 go build -o cyberstrike-ai-linux cmd/server/main.go

# macOS
GOOS=darwin GOARCH=amd64 go build -o cyberstrike-ai-macos cmd/server/main.go

# Windows
GOOS=windows GOARCH=amd64 go build -o cyberstrike-ai.exe cmd/server/main.go
```

#### Dockeréƒ¨ç½²ï¼ˆç¤ºä¾‹ï¼‰

```dockerfile
FROM golang:1.21-alpine AS builder
WORKDIR /app
COPY . .
RUN go build -o cyberstrike-ai cmd/server/main.go

FROM alpine:latest
RUN apk --no-cache add ca-certificates nmap sqlmap nikto dirb
WORKDIR /root/
COPY --from=builder /app/cyberstrike-ai .
COPY --from=builder /app/config.yaml .
COPY --from=builder /app/tools ./tools
COPY --from=builder /app/web ./web
EXPOSE 8080
CMD ["./cyberstrike-ai"]
```

### ä»£ç è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

è´¡çŒ®æŒ‡å—ï¼š
1. Forkæœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯Pull Request

## ğŸ“‹ æŠ€æœ¯æ ˆ

- **åç«¯æ¡†æ¶**: Gin (Go Web Framework)
- **æ•°æ®åº“**: SQLite3
- **æ—¥å¿—**: Zap (Uber's structured logging)
- **é…ç½®**: YAML
- **åè®®**: MCP (Model Context Protocol)
- **å‰ç«¯**: HTML/CSS/JavaScript (åŸç”Ÿï¼Œæ— æ¡†æ¶ä¾èµ–)

## ğŸ” å®‰å…¨æ³¨æ„äº‹é¡¹

âš ï¸ **é‡è¦æç¤º**ï¼š

- âš ï¸ **ä»…å¯¹æ‚¨æ‹¥æœ‰æˆ–å·²è·å¾—æˆæƒçš„ç³»ç»Ÿè¿›è¡Œæµ‹è¯•**
- âš ï¸ **éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„å’Œé“å¾·å‡†åˆ™**
- âš ï¸ **å»ºè®®åœ¨éš”ç¦»çš„æµ‹è¯•ç¯å¢ƒä¸­ä½¿ç”¨**
- âš ï¸ **ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨**
- âš ï¸ **æŸäº›å®‰å…¨å·¥å…·å¯èƒ½éœ€è¦rootæƒé™ï¼Œè¯·è°¨æ…ä½¿ç”¨**
- âš ï¸ **execå·¥å…·å¯ä»¥æ‰§è¡Œä»»æ„ç³»ç»Ÿå‘½ä»¤ï¼Œå­˜åœ¨å®‰å…¨é£é™©**
- âš ï¸ **å¦¥å–„ä¿ç®¡APIå¯†é’¥ï¼Œä¸è¦æäº¤åˆ°ä»£ç ä»“åº“**

## âš™ï¸ é«˜çº§ç‰¹æ€§

### AIè¿­ä»£æœºåˆ¶

- **æœ€å¤§è¿­ä»£æ¬¡æ•°**ï¼šç³»ç»Ÿæ”¯æŒå¤šè½®AIè¿­ä»£ï¼Œç¡®ä¿å¤æ‚æµ‹è¯•ä»»åŠ¡èƒ½å¤Ÿå®Œæˆ
- **æ™ºèƒ½æ€»ç»“**ï¼šå½“è¾¾åˆ°æœ€å¤§è¿­ä»£æ¬¡æ•°æ—¶ï¼ŒAIä¼šè‡ªåŠ¨æ€»ç»“æ‰€æœ‰æµ‹è¯•ç»“æœã€å‘ç°çš„é—®é¢˜å’Œå·²å®Œæˆçš„å·¥ä½œ
- **ä¸‹ä¸€æ­¥è®¡åˆ’**ï¼šå¦‚æœæµ‹è¯•æœªå®Œæˆï¼ŒAIä¼šæä¾›è¯¦ç»†çš„ä¸‹ä¸€æ­¥æ‰§è¡Œè®¡åˆ’ï¼ŒæŒ‡å¯¼åç»­æµ‹è¯•

### å·¥å…·æ‰§è¡Œä¼˜åŒ–

- **é”™è¯¯å¤„ç†**ï¼šå·¥å…·æ‰§è¡Œå¤±è´¥æ—¶ï¼ŒAIä¼šè‡ªåŠ¨åˆ†æé”™è¯¯åŸå› å¹¶å°è¯•æ›¿ä»£æ–¹æ¡ˆ
- **å‚æ•°ä¼˜åŒ–**ï¼šAIä¼šæ ¹æ®ç›®æ ‡ç‰¹å¾è‡ªåŠ¨ä¼˜åŒ–å·¥å…·å‚æ•°ï¼Œæé«˜æµ‹è¯•æ•ˆç‡
- **ç»“æœåˆ†æ**ï¼šè‡ªåŠ¨åˆ†æå·¥å…·è¾“å‡ºï¼Œæå–å…³é”®ä¿¡æ¯å’Œæ¼æ´

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

å¦‚æœæ‚¨å‘ç°bugæˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼Œè¯·ï¼š
1. æŸ¥çœ‹ç°æœ‰çš„Issuesï¼Œé¿å…é‡å¤
2. åˆ›å»ºè¯¦ç»†çš„Issueæè¿°é—®é¢˜æˆ–å»ºè®®
3. æäº¤Pull Requestæ—¶è¯·åŒ…å«æ¸…æ™°çš„è¯´æ˜

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–éœ€è¦å¸®åŠ©ï¼Œè¯·ï¼š
- æŸ¥çœ‹æœ¬æ–‡æ¡£çš„æ•…éšœæ’é™¤éƒ¨åˆ†
- æŸ¥çœ‹é¡¹ç›®çš„Issues
- æäº¤æ–°çš„Issueæè¿°æ‚¨çš„é—®é¢˜

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…å’Œå¼€æºç¤¾åŒºçš„æ”¯æŒï¼
